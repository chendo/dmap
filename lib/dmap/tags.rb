module DMAP
  TAGS = {
      :abal => ['daap.browsealbumlisting', :container],
      :abar => ['daap.browseartistlisting', :container],
      :abcp => ['daap.browsecomposerlisting', :container],
      :abgn => ['daap.browsegenrelisting', :container],
      :abpl => ['daap.baseplaylist', :byte],
      :abro => ['daap.databasebrowse', :container],
      :adbs => ['daap.databasesongs', :container],
      :aeAI => ['com.apple.itunes.itms-artistid', :integer],
      :aeCI => ['com.apple.itunes.itms-composerid', :integer],
      :aeCR => ['com.apple.itunes.content-rating', :string],
      :aeEN => ['com.apple.itunes.episode-num-str', :string],
      :aeES => ['com.apple.itunes.episode-sort', :integer],
      :aeFP => ['com.apple.itunes.req-fplay', :byte],
      :aeGU => ['com.apple.itunes.gapless-dur', :long],
      :aeGD => ['com.apple.itunes.gapless-enc-dr', :integer],
      :aeGE => ['com.apple.itunes.gapless-enc-del', :integer],
      :aeGH => ['com.apple.itunes.gapless-heur', :integer],
      :aeGI => ['com.apple.itunes.itms-genreid', :integer],
      :aeGR => ['com.apple.itunes.gapless-resy', :long],
      :aeHD => ['com.apple.itunes.is-hd-video', :byte],
      :aeHV => ['com.apple.itunes.has-video', :byte],
      :aeMK => ['com.apple.itunes.mediakind', :byte],
      :aeNN => ['com.apple.itunes.network-name', :string],
      :aeNV => ['com.apple.itunes.norm-volume', :integer],
      :aePC => ['com.apple.itunes.is-podcast', :byte],
      :aePI => ['com.apple.itunes.itms-playlistid', :integer],
      :aePP => ['com.apple.itunes.is-podcast-playlist', :byte],
      :aePS => ['com.apple.itunes.special-playlist', :byte],
      :aeSU => ['com.apple.itunes.season-num', :integer],
      :aeSF => ['com.apple.itunes.itms-storefrontid', :integer],
      :aeSG => ['com.apple.itunes.saved-genius', :byte],
      :aeSI => ['com.apple.itunes.itms-songid', :integer],
      :aeSN => ['com.apple.itunes.series-name', :string],
      :aeSP => ['com.apple.itunes.smart-playlist', :byte],
      :aeSV => ['com.apple.itunes.music-sharing-version', :integer],
      :agrp => ['daap.songgrouping', :string],
      :aply => ['daap.databaseplaylists', :container], 
      :aprm => ['daap.playlistrepeatmode', :byte],
      :apro => ['daap.protocolversion', :version],
      :apsm => ['daap.playlistshufflemode', :byte],
      :apso => ['daap.playlistsongs', :container],
      :arif => ['daap.resolveinfo', :container],
      :arsv => ['daap.resolve', :container],
      :asaa => ['daap.songalbumartist', :string],
      :asai => ['daap.songalbumid', :long],
      :asal => ['daap.songalbum', :string],
      :asar => ['daap.songartist', :string],
      :asbk => ['daap.bookmarkable', :byte],
      :asbo => ['daap.songbookmark', :integer],
      :asbr => ['daap.songbitrate', :short],
      :asbt => ['daap.songbeatsperminute', :short],
      :ascd => ['daap.songcodectype', :integer],
      :ascm => ['daap.songcomment', :string],
      :ascn => ['daap.songcontentdescription', :string],
      :asco => ['daap.songcompilation', :byte],
      :ascp => ['daap.songcomposer', :string],
      :ascr => ['daap.songcontentrating', :byte],
      :ascs => ['daap.songcodecsubtype', :integer],
      :asct => ['daap.songcategory', :string],
      :asda => ['daap.songdateadded', :timestamp],
      :asdb => ['daap.songdisabled', :byte],
      :asdc => ['daap.songdisccount', :short],
      :asdk => ['daap.songdatakind', :byte],
      :asdm => ['daap.songdatemodified', :timestamp],
      :asdn => ['daap.songdiscnumber', :short],
      :asdp => ['daap.songdatepurchased', :timestamp],
      :asdr => ['daap.songdatereleased', :timestamp],
      :asdt => ['daap.songdescription', :string],
      :ased => ['daap.songextradata', :short],
      :aseq => ['daap.songeqpreset', :string],
      :asfm => ['daap.songformat', :string],
      :asgn => ['daap.songgenre', :string],
      :asgp => ['daap.songgapless', :byte],
      :ashp => ['daap.songhasbeenplayed', :byte],
      :asky => ['daap.songkeywords', :string],
      :aslc => ['daap.songlongcontentdescription', :string],
      :asls => ['daap.songlongsize', :long],
      :aspu => ['daap.songpodcasturl', :string],
      :asrv => ['daap.songrelativevolume', :signed_byte],
      :assu => ['daap.sortalbum', :string],
      :assa => ['daap.sortartist', :string],
      :assc => ['daap.sortcomposer', :string],
      :assl => ['daap.sortalbumartist', :string],
      :assn => ['daap.sortname', :string],
      :assp => ['daap.songstoptime', :integer],
      :assr => ['daap.songsamplerate', :integer],
      :asss => ['daap.sortseriesname', :string],
      :asst => ['daap.songstarttime', :integer],
      :assz => ['daap.songsize', :integer],
      :astc => ['daap.songtrackcount', :short],
      :astm => ['daap.songtime', :integer],
      :astn => ['daap.songtracknumber', :short],
      :asul => ['daap.songdataurl', :string],
      :asur => ['daap.songuserrating', :byte],
      :asyr => ['daap.songyear', :short],
      :ated => ['daap.supportsextradata', :short],
      :avdb => ['daap.serverdatabases', :container],
      :ceJC => ['com.apple.itunes.jukebox-client-vote', :signed_byte],
      :ceJI => ['com.apple.itunes.jukebox-current', :integer],
      :ceJS => ['com.apple.itunes.jukebox-score', :signed_short],
      :ceJV => ['com.apple.itunes.jukebox-vote', :integer],
      :"f\215ch" => ['dmap.haschildcontainers', :byte],
      :mbcl => ['dmap.bag', :container],
      :mccr => ['dmap.contentcodesresponse', :container],
      :mcna => ['dmap.contentcodesname', :string],
      :mcnm => ['dmap.contentcodesnumber', :integer],
      :mcon => ['dmap.container', :container],
      :mctc => ['dmap.containercount', :integer],
      :mcti => ['dmap.containeritemid', :integer],
      :mcty => ['dmap.contentcodestype', :short],
      :mdcl => ['dmap.dictionary', :container],
      :meds => ['dmap.editcommandssupported', :integer],
      :miid => ['dmap.itemid', :integer],
      :mikd => ['dmap.itemkind', :byte],
      :mimc => ['dmap.itemcount', :integer],
      :minm => ['dmap.itemname', :string],
      :mlcl => ['dmap.listing', :container],
      :mlid => ['dmap.sessionid', :integer],
      :mlit => ['dmap.listingitem', :container],
      :mlog => ['dmap.loginresponse', :container],
      :mpco => ['dmap.parentcontainerid', :integer],
      :mper => ['dmap.persistentid', :long],
      :mpro => ['dmap.protocolversion', :version],
      :mrco => ['dmap.returnedcount', :integer],
      :msau => ['dmap.authenticationmethod', :byte],
      :msal => ['dmap.supportsautologout', :byte],
      :msas => ['dmap.authenticationschemes', :integer],
      :msbr => ['dmap.supportsbrowse', :byte],
      :msdc => ['dmap.databasescount', :integer],
      :msed => ['unknown_msed', :byte], # TODO: Figure out what these are for
      :msex => ['dmap.supportsextensions', :byte],
      :msix => ['dmap.supportsindex', :byte],
      :mslr => ['dmap.loginrequired', :byte],
      :msma => ['unknown_msma', :long],
      :msml => ['unknown_msml', :container],
      :mspi => ['dmap.supportspersistentids', :byte],
      :msqy => ['dmap.supportsquery', :byte],
      :msrs => ['dmap.supportsresolve', :byte],
      :msrv => ['dmap.serverinforesponse', :container],
      :mstc => ['dmap.utctime', :timestamp],
      :mstm => ['dmap.timeoutinterval', :integer],
      :msto => ['dmap.utcoffset', :signed_integer],
      :msts => ['dmap.statusstring', :string],
      :mstt => ['dmap.status', :integer],
      :msup => ['dmap.supportsupdate', :byte],
      :mtco => ['dmap.specifiedtotalcount', :integer],
      :mudl => ['dmap.deletedidlisting', :container],
      :mupd => ['dmap.updateresponse', :container],
      :musr => ['dmap.serverrevision', :integer],
      :muty => ['dmap.updatetype', :byte],
      # These don't seem to be in use by iTunes 8.2 anymore
      # :ppro => ['dpap.protocolversion', :integer],
      # :pret => ['dpap.unknown', :container],
    }
  
  TYPES = {
    1 => :byte,
    2 => :signed_byte,
    3 => :short,
    4 => :signed_short,
    5 => :integer,
    6 => :signed_integer,
    7 => :long,
    8 => :signed_long,
    9 => :string,
    10 => :timestamp,
    11 => :version,
    12 => :container
  }
  
  UNPACK_MAP = {
    :byte => 'C',
    :signed_byte => 'c',
    :short => 'n',
    :signed_short => 's',
    :integer => 'N',
    :signed_integer => 'l',
    :long => 'Q',
    :signed_long => 'q',
    :string => 'a*',
    :timestamp => 'N',
    :version => 'nn'
  }
  
end